#define __SFR_OFFSET 0
#include "avr/io.h"
.global hwSetup

hwSetup:
CBI DDRD, 2
SBI DDRB, 5

main:
LDI R28, 20
STS 0x200, R28
LDS R30, 0x200
LDI R28, 10
SUB R30, R28
LDI R28, 2
ADD R30, R28
LDI R28, 3
ADD R30, R28
LDI R28, 5
ADD R30, R28
STS 0x204, R30
RJMP while_1
endwhile_1:
CBI PORTB, 5
RET

while_1:
LDS R22, 0x200
LDS R29, 0x204
CP R22, R29
BRNE endwhile_1
SBIS PIND, 2
LDI R29, 0
SBIC PIND, 2
LDI R29, 1
STS 0x208, R29
LDS R24, 0x208
LDI R26, 0
CP R24, R26
BREQ if_1
RJMP else_1
endif_1:
RJMP while_1

if_1:
CBI PORTB, 5
RJMP endif_1

else_1:
SBI PORTB, 5
RJMP endif_1
