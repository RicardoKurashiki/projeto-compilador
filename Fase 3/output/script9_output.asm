#define __SFR_OFFSET 0
#include "avr/io.h"
.global hwSetup

hwSetup:
CBI DDRD, 2
SBI DDRB, 5
CBI DDRD, 3
CBI DDRD, 4
CBI DDRD, 5
CBI DDRD, 6
CBI DDRD, 7
CBI DDRB, 0
CBI DDRB, 1

main:
LDI R26, 0
STS 0x400, R26
LDI R17, 0
STS 0x404, R17
LDI R23, 0
STS 0x408, R23
JMP while_1
endwhile_1:
RET

while_1:
LDI R29, 1
LDI R20, 1
CP R29, R20
BRNE endwhile_1
SBIS PIND, 2
LDI R28, 0
SBIC PIND, 2
LDI R28, 1
STS 0x404, R28
LDS R29, 0x404
LDI R22, 0
CPSE R29, R22
SBI PORTB, 5
LDI R22, 1
CPSE R29, R22
CBI PORTB, 5
LDS R17, 0x404
LDI R31, 1
CP R17, R31
BREQ if_1
endif_1:
LDS R27, 0x400
LDI R17, 1
CP R27, R17
BREQ if_2_1
LDS R25, 0x400
LDI R24, 2
CP R25, R24
BREQ elseif_2_1b
LDS R17, 0x400
LDI R18, 3
CP R17, R18
BREQ elseif_2_1c
LDS R31, 0x400
LDI R21, 4
CP R31, R21
BREQ elseif_2_1d
LDS R20, 0x400
LDI R27, 5
CP R20, R27
BREQ elseif_2_1e
JMP else_2_1
endif_2_1:
LDS R27, 0x404
STS 0x408, R27
JMP while_1

if_1:
LDS R25, 0x408
LDI R27, 0
CP R25, R27
BREQ if_1_1
endif_1_1:
JMP endif_1

if_1_1:
LDS R17, 0x400
LDI R16, 1
ADD R17, R16
STS 0x400, R17
JMP endif_1_1

if_2_1:
CBI PORTD, 3
SBI PORTD, 4
SBI PORTD, 5
CBI PORTD, 6
CBI PORTD, 7
CBI PORTB, 0
CBI PORTB, 1
JMP endif_2_1

elseif_2_1b:
SBI PORTD, 3
SBI PORTD, 4
CBI PORTD, 5
SBI PORTD, 6
SBI PORTD, 7
CBI PORTB, 0
SBI PORTB, 1
JMP endif_2_1

elseif_2_1c:
SBI PORTD, 3
SBI PORTD, 4
SBI PORTD, 5
SBI PORTD, 6
CBI PORTD, 7
CBI PORTB, 0
SBI PORTB, 1
JMP endif_2_1

elseif_2_1d:
CBI PORTD, 3
SBI PORTD, 4
SBI PORTD, 5
CBI PORTD, 6
CBI PORTD, 7
SBI PORTB, 0
SBI PORTB, 1
JMP endif_2_1

elseif_2_1e:
SBI PORTD, 3
CBI PORTD, 4
SBI PORTD, 5
SBI PORTD, 6
CBI PORTD, 7
SBI PORTB, 0
SBI PORTB, 1
JMP endif_2_1

else_2_1:
LDI R21, 1
STS 0x400, R21
JMP endif_2_1
